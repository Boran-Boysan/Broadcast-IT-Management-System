<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doküman Yükle - Broadcast IT</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Broadcast IT</h3>
            <p>Admin Panel</p>
        </div>

        <ul class="sidebar-menu">
            <li><a href="{{ url_for('main.admin_dashboard') }}">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a></li>
            <li><a href="{{ url_for('main.admin_employees') }}">
                <i class="fas fa-users"></i>
                <span>Çalışanlar</span>
            </a></li>
            <li><a href="{{ url_for('main.admin_inventory_dashboard') }}">
                <i class="fas fa-boxes"></i>
                <span>Envanter ve Lisans</span>
            </a></li>
            <li><a href="{{ url_for('main.admin_knowledge_base') }}" class="active">
                <i class="fas fa-book"></i>
                <span>Bilgi Bankası</span>
            </a></li>
            <li><a href="{{ url_for('main.admin_settings') }}">
                <i class="fas fa-chart-bar"></i>
                <span>Raporlar</span>
            </a></li>
        </ul>
    </div>

    <div class="main-content">
        <div class="top-bar">
            <button class="toggle-sidebar" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>

            <div class="user-menu">
                <div class="user-info">
                    <h4>{{ current_user.name }} {{ current_user.surname }}</h4>
                    <p>{{ current_user.role|title }} - {{ current_user.department }}</p>
                </div>
                <a href="{{ url_for('main.logout') }}" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Çıkış
                </a>
            </div>
        </div>

        <div class="content">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ 'error' if category == 'error' else category }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">
                    <div class="knowledge-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    Doküman Yükle
                </h1>
                <div class="breadcrumb">
                    <a href="{{ url_for('main.admin_knowledge_base') }}">Bilgi Bankası</a> / Doküman Yükle
                </div>
            </div>

            <!-- Upload Form -->
            <form method="POST" enctype="multipart/form-data" class="upload-form" id="uploadForm">
                <!-- Document Information Section -->
                <div class="form-section">
                    <h3><i class="fas fa-info-circle"></i> Doküman Bilgileri</h3>

                    <div class="form-group">
                        <label for="title">Başlık <span class="required">*</span></label>
                        <input type="text"
                               id="title"
                               name="title"
                               class="form-control"
                               placeholder="Doküman başlığını girin (maksimum 50 karakter)"
                               maxlength="50"
                               required>
                        <small style="color: #6c757d; font-size: 0.85rem; margin-top: 5px; display: block;">
                            Bu alan zorunludur ve 50 karakteri geçmemelidir.
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="description">Açıklama</label>
                        <textarea id="description"
                                  name="description"
                                  class="form-control"
                                  placeholder="Dokümanın içeriği hakkında kısa açıklama..."></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="category">Kategori</label>
                            <select id="category" name="category" class="form-control">
                                <option value="">Kategori Seçin</option>
                                <option value="Network">Network</option>
                                <option value="Storage">Storage</option>
                                <option value="RAID">RAID</option>
                                <option value="iNews">iNews</option>
                                <option value="Broadcast">Broadcast</option>
                                <option value="Hardware">Hardware</option>
                                <option value="Software">Software</option>
                                <option value="Security">Security</option>
                                <option value="Other">Diğer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="department">Departman</label>
                            <select id="department" name="department" class="form-control">
                                <option value="">Departman Seçin</option>
                                <option value="IT">IT</option>
                                <option value="News">News</option>
                                <option value="Technical">Technical</option>
                                <option value="Management">Management</option>
                                <option value="General">General</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- File Upload Section -->
                <div class="form-section">
                    <h3><i class="fas fa-file-upload"></i> Dosya Yükleme</h3>

                    <div class="form-group">
                        <label class="file-upload" for="file">
                            <input type="file" id="file" name="file" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.png,.jpg,.jpeg,.gif,.mp4,.avi,.mov">
                            <div class="upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <div class="upload-text">Dosya seçmek için tıklayın veya dosyaları buraya sürükleyin</div>
                            <div class="upload-hint">Maksimum dosya boyutu: 50MB</div>
                        </label>

                        <div class="file-info" id="fileInfo">
                            <div class="file-name" id="fileName"></div>
                            <div class="file-size" id="fileSize"></div>
                        </div>
                    </div>

                    <!-- Supported Formats -->
                    <div class="supported-formats">
                        <h4><i class="fas fa-check-circle"></i> Desteklenen Dosya Formatları</h4>
                        <div class="format-list">
                            <span class="format-tag">PDF</span>
                            <span class="format-tag">DOC</span>
                            <span class="format-tag">DOCX</span>
                            <span class="format-tag">XLS</span>
                            <span class="format-tag">XLSX</span>
                            <span class="format-tag">PPT</span>
                            <span class="format-tag">PPTX</span>
                            <span class="format-tag">TXT</span>
                            <span class="format-tag">PNG</span>
                            <span class="format-tag">JPG</span>
                            <span class="format-tag">JPEG</span>
                            <span class="format-tag">GIF</span>
                            <span class="format-tag">MP4</span>
                            <span class="format-tag">AVI</span>
                            <span class="format-tag">MOV</span>
                        </div>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="form-actions">
                    <a href="{{ url_for('main.admin_knowledge_base') }}" class="btn btn-secondary">
                        <i class="fas fa-times"></i>
                        İptal
                    </a>
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-upload"></i>
                        Dokümanı Yükle
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>
</body>
</html>